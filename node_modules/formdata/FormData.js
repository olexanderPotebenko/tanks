exports.FormData = class {
  constructor(name, path, insertion_point){
    this.name = name;
    this.path = path;
    this.insertion_point = insertion_point;
  }

  async getAllCode(){

    let obj = {};
    obj.js = [];
    let promises = [];
    let path_files = getPathFilesInDir(this.path);
    let path_files_with_code = path_files.reduce((arr, item) => {
      let extension = getExtension(item);
      if(extension == '.js' || extension == '.html' || extension == '.css')
        arr.push(item);
    }, []);

    path_files_with_code.forEach(item => {
      promises.push(getFileData(item));
    });

    Promise.all(promises).then((data) => {
      for(let i = 0; i < data.length; i++){
        if(data[i].html){
          obj.html = data[i].html;
        }else if(data[i].js){
          obj.js.push(data[i].js);
        };
      };
      return obj;
    })
  }
}
